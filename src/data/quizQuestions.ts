import { QuizQuestion } from '@/types';

export const CBC_QUIZ_QUESTIONS: QuizQuestion[] = [
  // ===== RULES OF FOOTBALL =====
  {
    id: 'r1',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Identify basic rules of football',
    question: 'How many players are on a standard football team during a match?',
    options: ['9', '10', '11', '12'],
    correctAnswer: 2,
    explanation: 'A standard football team has 11 players on the pitch, including the goalkeeper.',
    xpReward: 20,
  },
  {
    id: 'r2',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Understand match duration',
    question: 'How long is a standard football match?',
    options: ['60 minutes', '75 minutes', '90 minutes', '120 minutes'],
    correctAnswer: 2,
    explanation: 'A standard football match lasts 90 minutes: two 45-minute halves.',
    xpReward: 20,
  },
  {
    id: 'r3',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Know when a goal is scored',
    question: 'When is a goal considered scored in football?',
    options: ['When the ball touches the post', 'When the ball fully crosses the goal line between the posts', 'When the goalkeeper drops the ball', 'When a player kicks inside the box'],
    correctAnswer: 1,
    explanation: 'A goal is scored when the ENTIRE ball crosses the goal line between the goalposts and under the crossbar.',
    xpReward: 20,
  },
  {
    id: 'r4',
    competencyArea: 'rules',
    difficulty: 'medium',
    learningOutcome: 'Understand the offside rule',
    question: 'A player is in an offside position when they are:',
    options: ['Behind the ball when it is played', 'Closer to the opponent\'s goal line than both the ball and the second-last opponent', 'Outside the pitch boundary', 'Inside their own half'],
    correctAnswer: 1,
    explanation: 'Offside occurs when a player is closer to the opponent\'s goal line than both the ball and the second-last defender at the moment the ball is played.',
    xpReward: 35,
  },
  {
    id: 'r5',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Know corner kick rules',
    question: 'When is a corner kick awarded?',
    options: ['When the ball goes out on the sideline', 'When a defender kicks the ball over their own goal line', 'When an attacker fouls near the corner flag', 'When the goalkeeper saves a shot'],
    correctAnswer: 1,
    explanation: 'A corner kick is awarded when the ball crosses the goal line and was last touched by a defending player.',
    xpReward: 20,
  },
  {
    id: 'r6',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Understand yellow and red cards',
    question: 'What happens when a player receives two yellow cards in the same match?',
    options: ['They receive a final warning', 'They are given a free kick against them', 'They are shown a red card and sent off', 'They sit out for 10 minutes'],
    correctAnswer: 2,
    explanation: 'Two yellow cards in the same match = red card. The player is sent off permanently and cannot be replaced.',
    xpReward: 20,
  },
  {
    id: 'r7',
    competencyArea: 'rules',
    difficulty: 'easy',
    learningOutcome: 'Know about throw-ins',
    question: 'How must a throw-in be taken in football?',
    options: ['With one hand, feet on pitch', 'Both hands overhead, both feet on or behind the touchline', 'One hand from above the head', 'Kicked from the touchline'],
    correctAnswer: 1,
    explanation: 'A throw-in: both hands, from above the head, with both feet on or behind the touchline.',
    xpReward: 20,
  },
  {
    id: 'r8',
    competencyArea: 'rules',
    difficulty: 'medium',
    learningOutcome: 'Understand the penalty kick',
    question: 'From where is a penalty kick taken, and what distance is that from the goal?',
    options: ['Center of the field, 50 meters', 'Edge of the penalty area, 16.5 meters', 'Penalty spot, 11 meters from goal', 'Corner of the box, 20 meters'],
    correctAnswer: 2,
    explanation: 'A penalty kick is taken from the penalty spot, which is exactly 11 metres (12 yards) from the goal line.',
    xpReward: 35,
  },
  {
    id: 'r9',
    competencyArea: 'rules',
    difficulty: 'hard',
    learningOutcome: 'Advanced rules knowledge',
    question: 'During a penalty shootout, the goalkeeper saves the ball but it rebounds off the post — what happens next?',
    options: ['The kick is retaken', 'The game ends', 'The penalty is missed — play moves to the next team', 'The same player takes another kick'],
    correctAnswer: 2,
    explanation: 'In a penalty shootout, once the ball rebounds from the post after a save, the kick is considered complete — it is a miss and the other team takes their turn.',
    xpReward: 55,
  },
  {
    id: 'r10',
    competencyArea: 'rules',
    difficulty: 'hard',
    learningOutcome: 'Understand handball rules',
    question: 'Which of these is TRUE about handball under current football laws?',
    options: ['Any ball hitting an arm is automatically a handball foul', 'Unintentional handball directly leading to a goal is still allowed', 'Handball is only punished if the ball hits a clenched fist', 'A goal-bound shot deflecting off an arm is allowed if unintentional'],
    correctAnswer: 1,
    explanation: 'Under current FIFA laws, an unintentional handball that directly results in a goal is NOT allowed — the goal is disallowed. However, handball from a natural arm position may not always be a foul.',
    xpReward: 55,
  },
  {
    id: 'r11',
    competencyArea: 'rules',
    difficulty: 'hard',
    learningOutcome: 'Know VAR and goal-line technology',
    question: 'What is the main purpose of VAR (Video Assistant Referee) in football?',
    options: ['To replace the on-field referee entirely', 'To review and correct clear and obvious errors in key match decisions', 'To time-keep and manage substitutions', 'To communicate with team coaches during play'],
    correctAnswer: 1,
    explanation: 'VAR reviews ONLY four types of decisions: goals, penalty decisions, red cards, and mistaken identity — and only for "clear and obvious errors."',
    xpReward: 55,
  },

  // ===== TEAMWORK & SPORTSMANSHIP =====
  {
    id: 't1',
    competencyArea: 'teamwork',
    difficulty: 'easy',
    learningOutcome: 'Demonstrate good sportsmanship',
    question: 'What is the most important quality of good sportsmanship in football?',
    options: ['Winning at all costs', 'Respecting opponents, teammates, and officials', 'Being the top scorer', 'Playing aggressively'],
    correctAnswer: 1,
    explanation: 'Good sportsmanship means respecting everyone — whether you win or lose.',
    xpReward: 20,
  },
  {
    id: 't2',
    competencyArea: 'teamwork',
    difficulty: 'easy',
    learningOutcome: 'Understand team communication',
    question: 'Why is communication important in football?',
    options: ['To distract opponents', 'To help teammates understand positions and movements', 'To argue with the referee', 'To show off skills'],
    correctAnswer: 1,
    explanation: 'Communication helps teammates coordinate, share positions, and work together effectively.',
    xpReward: 20,
  },
  {
    id: 't3',
    competencyArea: 'teamwork',
    difficulty: 'easy',
    learningOutcome: 'Value fair play',
    question: 'A teammate is injured. What should you do?',
    options: ['Continue playing and ignore them', 'Kick the ball out of play so they can receive help', 'Argue with the referee', 'Score a goal while they are down'],
    correctAnswer: 1,
    explanation: 'Kicking the ball out so the injured player gets help is the ethical, fair-play choice.',
    xpReward: 20,
  },
  {
    id: 't4',
    competencyArea: 'teamwork',
    difficulty: 'medium',
    learningOutcome: 'Understand team roles',
    question: 'Which behavior best shows good teamwork in football?',
    options: ['Keeping the ball yourself all the time', 'Passing to teammates in better positions', 'Arguing with teammates who make mistakes', 'Only playing when the ball comes to you'],
    correctAnswer: 1,
    explanation: 'Good teamwork means recognizing when a teammate is better placed and making the right pass, even if you give up a personal opportunity.',
    xpReward: 30,
  },
  {
    id: 't5',
    competencyArea: 'teamwork',
    difficulty: 'easy',
    learningOutcome: 'Handle winning and losing',
    question: 'Your team just lost a match. What is the RIGHT response?',
    options: ['Blame teammates for the loss', 'Refuse to shake hands with opponents', 'Accept defeat gracefully and learn from mistakes', 'Argue loudly with the referee'],
    correctAnswer: 2,
    explanation: 'Accepting defeat gracefully and learning from the experience is the hallmark of a true sportsperson.',
    xpReward: 20,
  },
  {
    id: 't6',
    competencyArea: 'teamwork',
    difficulty: 'medium',
    learningOutcome: 'Appreciate diverse abilities',
    question: 'A new player joins your team and struggles with skills. What is the BEST way to respond as a teammate?',
    options: ['Exclude them from key plays', 'Encourage, give simple instructions, and involve them gradually', 'Make fun of their mistakes to motivate them', 'Ask the coach to remove them from the starting lineup'],
    correctAnswer: 1,
    explanation: 'Encouraging and supporting less experienced players builds team spirit, confidence, and improves overall team performance.',
    xpReward: 30,
  },
  {
    id: 't7',
    competencyArea: 'teamwork',
    difficulty: 'hard',
    learningOutcome: 'Leadership and team psychology',
    question: 'Your team is losing 3-0 at half-time. As captain, what is the MOST effective leadership strategy?',
    options: ['Shout at individual players who made mistakes', 'Remind the team of their strengths, set a small achievable target (e.g., score one goal), and stay positive', 'Tell players to give up and conserve energy', 'Argue with the coach about the tactics'],
    correctAnswer: 1,
    explanation: 'Effective captains focus on what can still be achieved. Setting realistic sub-goals and maintaining morale is proven to improve second-half performance.',
    xpReward: 50,
  },

  // ===== POSITIONS AND ROLES =====
  {
    id: 'p1',
    competencyArea: 'positions',
    difficulty: 'easy',
    learningOutcome: 'Identify player positions',
    question: 'What is the main role of a goalkeeper?',
    options: ['Score goals', 'Stop the ball from entering their team\'s goal', 'Take corner kicks', 'Lead team chants'],
    correctAnswer: 1,
    explanation: 'The goalkeeper\'s primary role is to prevent the opposing team from scoring.',
    xpReward: 20,
  },
  {
    id: 'p2',
    competencyArea: 'positions',
    difficulty: 'easy',
    learningOutcome: 'Know defensive roles',
    question: 'What is the primary duty of a centre-back (central defender)?',
    options: ['Score goals from long range', 'Prevent opposition attackers from scoring and protect the goalkeeper', 'Take free kicks in dangerous positions', 'Play as an advanced midfielder'],
    correctAnswer: 1,
    explanation: 'Centre-backs protect their team\'s goal by marking attackers, making tackles, and organizing defensive lines.',
    xpReward: 20,
  },
  {
    id: 'p3',
    competencyArea: 'positions',
    difficulty: 'medium',
    learningOutcome: 'Understand midfield roles',
    question: 'Which best describes a DEFENSIVE midfielder\'s specific role compared to a general midfielder?',
    options: ['They only attack and score goals', 'They sit in front of the defense, breaking up play and recycling possession', 'They play wide and deliver crosses', 'They are the team\'s set-piece taker'],
    correctAnswer: 1,
    explanation: 'A defensive midfielder (DM) specifically shields the back four, intercepts passes, and is the first line of defense when possession is lost.',
    xpReward: 35,
  },
  {
    id: 'p4',
    competencyArea: 'positions',
    difficulty: 'easy',
    learningOutcome: 'Know striker responsibilities',
    question: 'What is the main job of a striker (centre-forward)?',
    options: ['Defend the goal', 'Score goals and create scoring opportunities', 'Take goal kicks', 'Referee the match'],
    correctAnswer: 1,
    explanation: 'Strikers are the team\'s main goal scorers — they find space, receive passes, and convert chances.',
    xpReward: 20,
  },
  {
    id: 'p5',
    competencyArea: 'positions',
    difficulty: 'medium',
    learningOutcome: 'Identify formations',
    question: 'In a 4-3-3 formation, how many players are in each line (back, middle, front)?',
    options: ['3 defenders, 4 midfielders, 3 forwards', '4 defenders, 3 midfielders, 3 forwards', '4 defenders, 4 midfielders, 2 forwards', '3 defenders, 3 midfielders, 4 forwards'],
    correctAnswer: 1,
    explanation: 'In a 4-3-3: 4 defenders, 3 midfielders, 3 forwards. The numbers always add up to 10 (excluding the goalkeeper).',
    xpReward: 35,
  },
  {
    id: 'p6',
    competencyArea: 'positions',
    difficulty: 'medium',
    learningOutcome: 'Understand wing play',
    question: 'What key qualities does a modern "inverted winger" possess compared to a traditional winger?',
    options: ['They stay wide and only deliver crosses', 'They cut inside from their non-dominant side to shoot on goal with their stronger foot', 'They only play defensively', 'They are typically the team captain'],
    correctAnswer: 1,
    explanation: 'An inverted winger (e.g., playing on the left wing but right-footed) cuts inside to shoot with their stronger foot, adding another goal threat rather than just crossing.',
    xpReward: 35,
  },
  {
    id: 'p7',
    competencyArea: 'positions',
    difficulty: 'hard',
    learningOutcome: 'Advanced positional understanding',
    question: 'A "false 9" is a tactical position. What does it describe?',
    options: ['A goalkeeper who plays in outfield', 'A striker who drops deep into midfield, creating space for attacking midfielders to run in behind', 'A defender who occasionally joins attacks', 'A referee assistant who assists the main referee'],
    correctAnswer: 1,
    explanation: 'A "false 9" is a centre-forward who drops deep into midfield spaces, pulling defenders out and creating gaps for attacking midfielders or wingers to exploit. Pioneered by players like Messi and Firmino.',
    xpReward: 55,
  },
  {
    id: 'p8',
    competencyArea: 'positions',
    difficulty: 'hard',
    learningOutcome: 'Tactical formation analysis',
    question: 'Which formation change would BEST help a team that is losing and needs to score quickly in the last 10 minutes?',
    options: ['Switch to a more defensive formation like 5-4-1', 'Bring on an extra striker, push full-backs high, and switch to 4-2-4 or 3-3-4', 'Keep the same formation and hope for a mistake', 'Replace midfielders with extra defenders'],
    correctAnswer: 1,
    explanation: 'When chasing a game, pushing players forward (e.g., 3-3-4 or 4-2-4) increases attacking pressure at the cost of defensive security — an accepted tactical risk.',
    xpReward: 55,
  },

  // ===== SAFETY IN SPORTS =====
  {
    id: 's1',
    competencyArea: 'safety',
    difficulty: 'easy',
    learningOutcome: 'Understand importance of warm-up',
    question: 'Why is it important to warm up before playing football?',
    options: ['To tire yourself out before the game', 'To prevent injuries by preparing muscles and joints', 'To show off to spectators', 'To waste time'],
    correctAnswer: 1,
    explanation: 'Warming up increases heart rate and blood flow to muscles, reducing injury risk during play.',
    xpReward: 20,
  },
  {
    id: 's2',
    competencyArea: 'safety',
    difficulty: 'easy',
    learningOutcome: 'Know proper football equipment',
    question: 'Which piece of equipment is ESSENTIAL for player safety and required by FIFA rules?',
    options: ['Gloves', 'Shin guards worn under socks', 'Hat', 'Sunglasses'],
    correctAnswer: 1,
    explanation: 'Shin guards protect the shins from tackles and kicks. They are mandatory for all players under FIFA Law 4.',
    xpReward: 20,
  },
  {
    id: 's3',
    competencyArea: 'safety',
    difficulty: 'medium',
    learningOutcome: 'Handle injuries properly',
    question: 'A player shows signs of a possible concussion (dizziness, confusion) during a match. What should happen under modern football protocols?',
    options: ['They should continue if they say they feel okay', 'They should be immediately substituted and evaluated by medical staff — they should NOT return that day', 'Give them water and let them continue after 5 minutes', 'The game should be stopped permanently'],
    correctAnswer: 1,
    explanation: 'Concussion protocols require immediate removal from play. Even if the player feels okay, returning to play on the same day risks serious brain injury. This is now standard FIFA policy.',
    xpReward: 35,
  },
  {
    id: 's4',
    competencyArea: 'safety',
    difficulty: 'easy',
    learningOutcome: 'Understand hydration in sport',
    question: 'Why should footballers drink water regularly during training and matches?',
    options: ['To look professional', 'To prevent dehydration, maintain performance, and avoid heat-related illness', 'Because the rules require it', 'To slow down opponents'],
    correctAnswer: 1,
    explanation: 'Dehydration severely reduces physical and mental performance and can cause serious health problems like heat stroke.',
    xpReward: 20,
  },
  {
    id: 's5',
    competencyArea: 'safety',
    difficulty: 'easy',
    learningOutcome: 'Recognize dangerous play',
    question: 'A sliding tackle with both feet off the ground aimed at an opponent is:',
    options: ['An excellent defensive technique', 'Acceptable in senior football only', 'Extremely dangerous and punishable with a red card', 'Encouraged in wet conditions'],
    correctAnswer: 2,
    explanation: 'Flying/reckless tackles endangering opponents receive a straight red card under FIFA Law 12. Player safety is the priority.',
    xpReward: 20,
  },
  {
    id: 's6',
    competencyArea: 'safety',
    difficulty: 'hard',
    learningOutcome: 'Sports injury prevention science',
    question: 'Which of the following is the most evidence-based injury prevention program used in professional football?',
    options: ['Running as fast as possible before every match', 'The FIFA 11+ warm-up program, which reduces injuries by up to 50%', 'Playing matches barefoot to strengthen feet', 'Avoiding all stretching before games'],
    correctAnswer: 1,
    explanation: 'The FIFA 11+ structured warm-up program has been scientifically proven to reduce overall injuries by 30-50% in football players across all levels.',
    xpReward: 50,
  },

  // ===== BASIC TACTICS =====
  {
    id: 'tac1',
    competencyArea: 'tactics',
    difficulty: 'easy',
    learningOutcome: 'Understand passing techniques',
    question: 'What type of pass gives the most accuracy for short distances to a nearby teammate?',
    options: ['Long aerial ball', 'Chip pass over defenders', 'Inside-foot (instep) pass along the ground', 'Overhead kick'],
    correctAnswer: 2,
    explanation: 'The inside-foot pass is the most accurate short-range pass — the flat, wide surface of the foot provides superior control.',
    xpReward: 20,
  },
  {
    id: 'tac2',
    competencyArea: 'tactics',
    difficulty: 'easy',
    learningOutcome: 'Know dribbling basics',
    question: 'When dribbling with the ball, you should:',
    options: ['Look only at your feet', 'Keep the ball far from your feet', 'Keep the ball close to your feet and look up at the pitch', 'Run as fast as possible without looking'],
    correctAnswer: 2,
    explanation: 'Good dribbling keeps the ball close (within touching distance) while looking up to see teammates, space, and opponents.',
    xpReward: 20,
  },
  {
    id: 'tac3',
    competencyArea: 'tactics',
    difficulty: 'easy',
    learningOutcome: 'Understand defending principles',
    question: 'When defending, what is the BEST immediate positioning when an opponent has the ball?',
    options: ['Sprint to score a goal', 'Position yourself between the opponent and your own goal, staying on your feet', 'Stand still and wait', 'Dive in immediately to tackle'],
    correctAnswer: 1,
    explanation: 'Good defenders position between attacker and goal, delay the attack, stay on their feet, and wait for the right moment to tackle.',
    xpReward: 20,
  },
  {
    id: 'tac4',
    competencyArea: 'tactics',
    difficulty: 'medium',
    learningOutcome: 'Know pressing tactics',
    question: 'What is "gegenpressing" (counter-pressing) in modern football tactics?',
    options: ['A defensive tactic of sitting deep in your own half', 'Immediately pressing opponents to win the ball back within seconds of losing possession', 'A tactic where the goalkeeper plays as an outfield player', 'Standing in the press box during the game'],
    correctAnswer: 1,
    explanation: 'Gegenpressing (popularized by coaches like Klopp and Guardiola) means immediately and aggressively pressing opponents right after losing the ball, before the opposition can organize. It\'s most effective in the first 5-6 seconds.',
    xpReward: 40,
  },
  {
    id: 'tac5',
    competencyArea: 'tactics',
    difficulty: 'medium',
    learningOutcome: 'Understand creating space',
    question: 'What is the tactical purpose of a player making a "decoy run" in football?',
    options: ['Running to score themselves only', 'Running to draw defenders away and create space for a teammate', 'Running to waste time when winning', 'Running to the sideline to get water'],
    correctAnswer: 1,
    explanation: 'A decoy run attracts defenders\' attention and opens up space for another player to receive the ball in a more dangerous position — crucial in modern attacking play.',
    xpReward: 35,
  },
  {
    id: 'tac6',
    competencyArea: 'tactics',
    difficulty: 'easy',
    learningOutcome: 'Know set piece tactics',
    question: 'What is a "set piece" in football?',
    options: ['A special piece of equipment', 'A planned move from a free kick, corner, or throw-in', 'The first goal scored in a match', 'The opening ceremony'],
    correctAnswer: 1,
    explanation: 'Set pieces are planned, rehearsed moves from dead-ball situations. Teams score a significant percentage of goals from set pieces.',
    xpReward: 20,
  },
  {
    id: 'tac7',
    competencyArea: 'tactics',
    difficulty: 'hard',
    learningOutcome: 'Advanced tactical analysis',
    question: 'A team playing a "high defensive line" gains which tactical advantage AND faces which risk?',
    options: [
      'Advantage: strong defense. Risk: slow transitions.',
      'Advantage: compresses space, makes offside traps easier. Risk: vulnerable to balls played in behind by fast forwards.',
      'Advantage: more goals. Risk: using too many substitutions.',
      'Advantage: goalkeeper stays active. Risk: yellow cards.',
    ],
    correctAnswer: 1,
    explanation: 'A high defensive line compresses the pitch (limiting opposition space), enables offside traps, and supports counter-attacks — but is vulnerable to pacey forwards exploiting the space behind with through-balls.',
    xpReward: 55,
  },
  {
    id: 'tac8',
    competencyArea: 'tactics',
    difficulty: 'hard',
    learningOutcome: 'Understand transitions in football',
    question: 'In football, what does "transition" refer to, and why is it considered a critical phase?',
    options: [
      'Moving between venues for away games',
      'The moments immediately after possession changes hands — teams are most vulnerable during these split seconds',
      'Half-time substitution decisions by the coach',
      'Changing formation from 4-4-2 to 4-3-3',
    ],
    correctAnswer: 1,
    explanation: 'Transitions (the split seconds when possession changes) are among the most dangerous phases — teams are often disorganized and can be exploited by quick counter-attacks. This is why "transition speed" is a key metric in elite football analysis.',
    xpReward: 55,
  },
  {
    id: 'tac9',
    competencyArea: 'tactics',
    difficulty: 'hard',
    learningOutcome: 'Understand pressing triggers',
    question: 'Which of the following is considered the best "pressing trigger" (moment to press the opponent)?',
    options: [
      'When the opponent\'s goalkeeper has the ball',
      'When a back pass is played to a defender under no pressure',
      'When an opponent receives the ball with their back to goal and has limited options',
      'At every moment regardless of position',
    ],
    correctAnswer: 2,
    explanation: 'Elite teams press when opponents are vulnerable — specifically when a player receives with their back to goal, cannot turn easily, and has limited passing options. This is called a "pressing trigger." Random pressing wastes energy.',
    xpReward: 55,
  },
];

export function getQuestionsByCompetency(area: QuizQuestion['competencyArea']): QuizQuestion[] {
  return CBC_QUIZ_QUESTIONS.filter(q => q.competencyArea === area);
}

export function getQuestionsByDifficulty(diff: 'easy' | 'medium' | 'hard'): QuizQuestion[] {
  return CBC_QUIZ_QUESTIONS.filter(q => q.difficulty === diff);
}

export function getRandomQuestions(count: number, area?: QuizQuestion['competencyArea']): QuizQuestion[] {
  const pool = area ? getQuestionsByCompetency(area) : CBC_QUIZ_QUESTIONS;
  const shuffled = [...pool].sort(() => Math.random() - 0.5);
  return shuffled.slice(0, count);
}

export const COMPETENCY_LABELS: Record<QuizQuestion['competencyArea'], string> = {
  rules: 'Rules of Football',
  teamwork: 'Teamwork & Sportsmanship',
  positions: 'Positions & Roles',
  safety: 'Safety in Sports',
  tactics: 'Basic Tactics',
};

export const COMPETENCY_COLORS: Record<QuizQuestion['competencyArea'], string> = {
  rules: 'text-blue-500',
  teamwork: 'text-green-500',
  positions: 'text-yellow-500',
  safety: 'text-red-500',
  tactics: 'text-purple-500',
};
